/*全頁框架容器*/
.page-wrapper {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* 四邊距形成「209×158」的槽位 */
.cat-slot {
  position: absolute;
  top: 59.3%;
  left: 15%;
  width: 53.2%;
  height: 23.1%;

}

//

/* 讓內容不被固定底列遮住 */
.has-bottom-pad { padding-bottom: calc(106px + env(safe-area-inset-bottom)); }

/* 背景容器：等比縮放，基準為 393×685 */
.bg-scene {
  width: 100%;
  max-width: 393px;
  aspect-ratio: 393 / 685;
  position: relative;
  margin: 0 auto;
  background-image: url('/assets/images/bg/bg1.png');/**/
}

/* ZZZ 位置： inset（391/262/178/115） */
.speech {
  position: absolute;
  inset: 57.08% 29.26% 38.24% 45.29%; /* top(391/685) right(115/393)  bottom(262/685) left(178/393) */
  padding: 7.5px 6.5px;
}

/* 貓的槽位：把 px 轉百分比，RWD 不跑位 */
.cat-slot {
  position: absolute;
  /* 由 393×685 換算 */
  top: 59.27%;    /* 406 / 685 */
  left: 15.01%;   /* 59 / 393 */
  width: 53.19%;  /* 209 / 393 */
  height: 23.07%; /* 158 / 685 */
}
.cat-slot img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* 進度卡樣式 */
.task-card { 
    background-color: rgba($primary-50, 0.33);
    box-shadow: 0 1px 2px rgba(0,0,0,.04); 
}
.progress-thin { 
    height: 6px; --bs-progress-bg: #{$primary-50}; 
}
.progress-thin .progress-bar { 
    --bs-progress-bar-bg:  #{$primary-500}; 
}
.icon-badge { 
    width:24px; 
    height:24px; 
    border-radius:50%; 
    background:$neutral-50; 
    box-shadow:0 2px 8px rgba(0,0,0,.08); }

/* 底部固定列 */
.bottom-bar {
//   background:#fff;
//   border-top: 1px solid rgba(0,0,0,.06);
//   box-shadow: 0 -4px 20px rgba(0,0,0,.06);
  padding-bottom: env(safe-area-inset-bottom);
}

/* 場景底部貼齊：高 52px */
.scene-footer{
  position: absolute;
  left: 0px; right: 0; bottom: 0;
  height: 52px;
  padding-right: 1rem;
  
}

.body {
  height: auto;//暫訂
  background:#{$primary-50};
}

.icon_cat_can {
  color: #{$neutral-500};  /* 因為 fill="currentColor" stroke="currentColor" */
}

//border樣式 dotted
.border-dotted { 
  border-style: dashed !important;; 
}


//按鈕按住變色
.topic-btn {
    max-width: 74px;
  flex: 0 0 74px; 
  // 按住時也變色
  &:active {
    background-color: #D2A14E !important;
    color: #fff !important;
    border-color: #D2A14E !important;
  }

  // 切換後保持
  &.active,
  &.active:focus {
    background-color: #D2A14E !important;
    color: #fff !important;
    border-color: #D2A14E !important;
  }
}

/* 自訂小圓角 */
$radius-xs: .25rem;
.rounded-top-m    { 
  border-top-left-radius: 16px !important; 
  border-top-right-radius: 16px !important; }
.rounded-bottom-xs { 
  border-bottom-left-radius: 8px !important; 
  border-bottom-right-radius: 8px !important; }

/* 讓 flush 也有邊與圓角、項目間留距 */
.accordion.accordion-flush {
  .accordion-item {
    background: #{$neutral-0};
    border: 1px solid var(--bs-border-color);
    overflow: hidden;              /* 讓圓角吃到內層 */
  }
  .accordion-item + .accordion-item { margin-top: -1rem; }

  /* 讓父層底色透出 */
  .accordion-button,
  .accordion-body { background-color: transparent !important; }
  .accordion-button:focus { box-shadow: none; }
}
  /*移除箭頭*/
   .accordion-button::after { 
    display: none !important; 
  }

/* 只有最後一張卡片用漸層 */
.accordion.accordion-flush .accordion-item:last-child {
  background-color: #fff;
  --bs-gradient:
    /* 左上：白→淡綠→透明 */
    radial-gradient(
      140% 140% at 0% 0%,
      #ffffff 0%,
      #ffffff 50%,
      rgba(223,240,183,.55) 70%,
      rgba(223,240,183,0) 100%
    ),
    /* 右下：淡黃暈染→透明 */
    radial-gradient(
      110% 110% at 100% 100%,
      rgba(255,246,0,.45) 0%,
      rgba(255,246,0,0) 60%
    );
  background-image: var(--bs-gradient);
  overflow: hidden;
}