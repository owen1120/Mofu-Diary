//border樣式 dotted
.border-dotted { 
  border-style: dashed !important;; 
}

//按鈕按住變色
.topic-btn {
  max-width: 74px;
  flex: 0 0 74px; 
  // 按住時也變色
  &:active {
    background-color: #D2A14E !important;
    color: #fff !important;
    border-color: #D2A14E !important;
  }

  // 切換後保持
  &.active,
  &.active:focus {
    background-color: #D2A14E !important;
    color: #fff !important;
    border-color: #D2A14E !important;
  }
}

/* ★ 覆寫 z-index，永遠蓋過 relax-panel(z-index:2000)*/
:root { --modal-z: 2010; }
.modal-backdrop { z-index: calc(var(--modal-z) - 1) !important; }
.modal          { z-index: var(--modal-z) !important; }


/* 只影響這顆 Modal；清掉任何背景圖/漸層，讓 bg-neutral-0 的底色生效 */
#topicCustomModal .modal-content.bg-neutral-0 {
  background-image: none !important;  /* 移除背景圖 */
  --bs-gradient: none !important;     /* 若有用到 BS 的漸層變數，關掉 */
  /* 不動 background-color，交給 .bg-neutral-0 */
}

//在breathing-exercisess.ejs使用

/* 上拉選單的外框 */
.bottom-sheet-breathing{
  /* 位置/尺寸 */
  position: fixed;
  left: 0; right: 0; bottom: -100%;    /* 收合＝完全看不到 */
  max-width: 393px; margin: 0 auto;
  width: 100%;
  height: var(--sheet-h, 489px);        /* ← 內容高度：JS 會寫入，預設 489px */
  z-index: 2;

  /* 外觀/排版 */
  display: grid;
  grid-template-rows: auto 1fr auto;    /* header / content / footer */
  background: #fff;
  border-radius: 16px 16px 0 0;
  box-shadow: 0 -8px 24px rgba(0,0,0,.12);
  padding-bottom: env(safe-area-inset-bottom);
  transition: bottom .28s ease;         /* ✓ 沿用你原本 bottom 動畫 */
}

/* 展開：整塊上來貼齊底部 */
.bottom-sheet-breathing.is-open{ bottom: 0; }

/* 內容要能捲，避免被 footer 吃掉 */
.bottom-sheet-breathing .sheet-content{
  padding: 0 16px 16px;
  min-height: 0;      /* ★ Grid 內 1fr 必加，否則會把 footer 擠出視窗 */
  overflow: auto;     /* ★ 內容捲動在中段 */
}

/* CTA 底部留安全區，並加一點漸層 */
.bottom-sheet-breathing .sheet-footer{
  padding: 12px 16px calc(env(safe-area-inset-bottom) + 32px);
  background: linear-gradient(transparent, rgba(255,255,255,.96) 24px);
}

/* btn-close 不要叉叉（Bootstrap 預設用背景圖，這裡拿掉） */
.bottom-sheet-breathing .btn-close{
  background-image: none !important;
  opacity: 1;
  width: 40px; height: 24px; /* 保留可點區域 */
}

//在breathing-exercisess-edit.ejs使用

/* 上拉選單的外框 */
.bottom-sheet-new{
  /* 位置/尺寸 */
  position: fixed;
  left: 0; right: 0; bottom: -100%;    /* 收合＝完全看不到 */
  max-width: 393px; margin: 0 auto;
  width: 100%;
  height: var(--sheet-h, 657px);        /* ← 內容高度：JS 會寫入，預設 657px */
  z-index: 2;

  /* 外觀/排版 */
  display: grid;
  grid-template-rows: auto 1fr auto;    /* header / content / footer */
  background: #fff;
  border-radius: 16px 16px 0 0;
  box-shadow: 0 -8px 24px rgba(0,0,0,.12);
  padding-bottom: env(safe-area-inset-bottom);
  transition: bottom .28s ease;         /* ✓ 沿用你原本 bottom 動畫 */
}

/* 展開：整塊上來貼齊底部 */
.bottom-sheet-new.is-open{ bottom: 0; }

/* 內容要能捲，避免被 footer 吃掉 */
.bottom-sheet-new .sheet-content{
  padding: 0 16px 16px;
  min-height: 0;      /* ★ Grid 內 1fr 必加，否則會把 footer 擠出視窗 */
  overflow: auto;     /* ★ 內容捲動在中段 */
}

/* CTA 底部留安全區，並加一點漸層 */
.bottom-sheet-new .sheet-footer{
  padding: 12px 16px calc(env(safe-area-inset-bottom) + 32px);
  background: linear-gradient(transparent, rgba(255,255,255,.96) 24px);
}

/* 背景遮罩（點擊可關閉） 未使用sheet-backdrop  (選用)*/
.sheet-backdrop{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.35);
  opacity: 0; pointer-events: none;
  transition: opacity .2s ease;
  z-index: calc(var(--sheet-z));
}
.sheet-backdrop.show{ opacity: 1; pointer-events: auto; }

/* btn-close 不要叉叉（Bootstrap 預設用背景圖，這裡拿掉） */
.bottom-sheet-new .btn-close{
  background-image: none !important;
  opacity: 1;
  width: 40px; height: 24px; /* 保留可點區域 */
}

/*【新增】滑動圖列：一頁一張、超出裁切、不破版 */
.gallery-row{
  display:flex;
  overflow-x:auto;        /* 水平滾動 */
  overflow-y:visible;     /* 避免下緣被切到 */
  -webkit-overflow-scrolling: touch;
  scroll-snap-type:x mandatory;
  scroll-padding: 24px;   /* snap 內間距 */
  // gap: 12px;
  padding: 0 24px;        /* 兩側留白，讓中間張有左右 peek */
  width: 100%;
  max-width: 393px;
  margin: 0 auto;
  border-radius: 12px;
  scrollbar-width: none;
}

.gallery-row::-webkit-scrollbar{ display:none; }

/* ★ 不裁切、維持比例、可 peek */
.gallery-row .slide{
  flex: 0 0 auto;         /* 不被壓縮，也不是 100% */
  width: 275px;
  height: 121px;
  object-fit: contain;    /* 不裁切，完整顯示 */
  object-position: center;
  scroll-snap-align: center;
  scroll-snap-stop: always;
  user-select: none;
  pointer-events: none;   /* 事件給容器做拖曳 */
}

/* 拖曳時的指標（像抓取） */
.gallery-row { cursor: grab; }
.gallery-row.dragging { cursor: grabbing; }

/* dots：被滑到時變粗 */
.dots .dot{
  display:inline-block; width:4px; height:4px; border-radius:999px;
  background: var(--bs-primary-300); margin: 0 6px; transition: all .18s ease;
}
.dots .dot.is-active{
  width: 6px; height: 6px; background: var(--bs-primary-700);
}

/* 刻度：可點/拖，帶流動感 */
.ticks{ gap: 10px; position: relative; }
.ticks .tick{
  display:inline-block; width:8px; height:8px; border-radius:50%;
  background: var(--bs-neutral-300);
  transition: transform .15s ease, background .15s ease;
}
.ticks .tick.active{ transform: scale(1.35); background: var(--bs-primary-600); }
.ticks.scrubbing .tick{ transition: none; } /* 拖曳時更順暢 */

.week-btn {
  // 按住時也變色
  &:active {
    background-color: #816E4D !important;
    color: #fff !important;
    border-color: #816E4D !important;
  }

  // 切換後保持
  &.active,
  &.active:focus {
    background-color: #816E4D !important;
    color: #fff !important;
    border-color: #816E4D !important;
  }
}